[
["assignment-cancer-1.html", "3.7 Assignment cancer", " 3.7 Assignment cancer 2020-03-23 The file cancer.csv contains data of 1207 women who were diagnosed with breast cancer [event: death -&gt; variable: status]. #Load the library required for a survival analysis library(survival) #Read data data&lt;-read.csv(&quot;2.UploadedData/cancer.csv&quot;,sep=&quot;;&quot;,dec=&quot;,&quot;) Variables included in the dataset: str(data) ## &#39;data.frame&#39;: 1207 obs. of 11 variables: ## $ id : int 1 2 3 4 5 6 7 8 9 10 ... ## $ age : int 60 79 82 66 52 58 50 83 46 54 ... ## $ pathsize: num 99 99 99 99 99 99 99 99 99 99 ... ## $ lnpos : int 0 0 0 0 0 0 0 0 17 6 ... ## $ histgrad: int 3 4 2 2 3 4 2 3 4 2 ... ## $ er : int 0 2 2 1 2 2 1 0 2 1 ... ## $ pr : int 0 2 2 1 2 2 0 0 2 1 ... ## $ status : int 0 0 0 0 0 0 0 0 0 0 ... ## $ pathscat: int 99 99 99 99 99 99 99 99 99 99 ... ## $ ln_yesno: int 0 0 0 0 0 0 0 0 1 1 ... ## $ time : num 9.47 8.6 19.33 16.33 8.5 ... Produce unadjusted Cox regressions for the covariates: age, ln_yesno and pathsize Unadjusted Cox regression for age cox1 &lt;- coxph(Surv(data$time, data$status) ~ data$age) summary(cox1) ## Call: ## coxph(formula = Surv(data$time, data$status) ~ data$age) ## ## n= 1207, number of events= 72 ## ## coef exp(coef) se(coef) z Pr(&gt;|z|) ## data$age -0.020905 0.979312 0.009369 -2.231 0.0257 * ## --- ## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 ## ## exp(coef) exp(-coef) lower .95 upper .95 ## data$age 0.9793 1.021 0.9615 0.9975 ## ## Concordance= 0.587 (se = 0.042 ) ## Likelihood ratio test= 5.09 on 1 df, p=0.02 ## Wald test = 4.98 on 1 df, p=0.03 ## Score (logrank) test = 5.02 on 1 df, p=0.03 Unadjusted Cox regression for ln_yesno cox2 &lt;- coxph(Surv(data$time, data$status) ~ as.factor(data$ln_yesno)) summary(cox2) ## Call: ## coxph(formula = Surv(data$time, data$status) ~ as.factor(data$ln_yesno)) ## ## n= 1207, number of events= 72 ## ## coef exp(coef) se(coef) z Pr(&gt;|z|) ## as.factor(data$ln_yesno)1 0.9228 2.5164 0.2391 3.86 0.000114 *** ## --- ## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 ## ## exp(coef) exp(-coef) lower .95 upper .95 ## as.factor(data$ln_yesno)1 2.516 0.3974 1.575 4.021 ## ## Concordance= 0.614 (se = 0.032 ) ## Likelihood ratio test= 13.73 on 1 df, p=2e-04 ## Wald test = 14.9 on 1 df, p=1e-04 ## Score (logrank) test = 15.98 on 1 df, p=6e-05 Unadjusted Cox regression for pathsize cox3 &lt;- coxph(Surv(data$time, data$status) ~ data$pathsize) summary(cox3) ## Call: ## coxph(formula = Surv(data$time, data$status) ~ data$pathsize) ## ## n= 1207, number of events= 72 ## ## coef exp(coef) se(coef) z Pr(&gt;|z|) ## data$pathsize 0.0008173 1.0008176 0.0042145 0.194 0.846 ## ## exp(coef) exp(-coef) lower .95 upper .95 ## data$pathsize 1.001 0.9992 0.9926 1.009 ## ## Concordance= 0.69 (se = 0.029 ) ## Likelihood ratio test= 0.04 on 1 df, p=0.8 ## Wald test = 0.04 on 1 df, p=0.8 ## Score (logrank) test = 0.04 on 1 df, p=0.8 Produce adjusted Cox regression with the variables age,ln_yesno and pathsize as covariates. Adjusted Cox regression for age,ln_yesno and pathsize cox4 &lt;- coxph(Surv(data$time, data$status) ~ data$age + as.factor(data$ln_yesno) + data$pathsize) summary(cox4) ## Call: ## coxph(formula = Surv(data$time, data$status) ~ data$age + as.factor(data$ln_yesno) + ## data$pathsize) ## ## n= 1207, number of events= 72 ## ## coef exp(coef) se(coef) z Pr(&gt;|z|) ## data$age -0.0151156 0.9849980 0.0094274 -1.603 0.108851 ## as.factor(data$ln_yesno)1 0.8477195 2.3343174 0.2437639 3.478 0.000506 *** ## data$pathsize 0.0004944 1.0004945 0.0042497 0.116 0.907394 ## --- ## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 ## ## exp(coef) exp(-coef) lower .95 upper .95 ## data$age 0.985 1.0152 0.9670 1.003 ## as.factor(data$ln_yesno)1 2.334 0.4284 1.4477 3.764 ## data$pathsize 1.000 0.9995 0.9922 1.009 ## ## Concordance= 0.629 (se = 0.043 ) ## Likelihood ratio test= 16.4 on 3 df, p=9e-04 ## Wald test = 17.54 on 3 df, p=5e-04 ## Score (logrank) test = 18.65 on 3 df, p=3e-04 Proportional hazards assumptions H0: independence between scaled Schoenfeld residuals and time. For each variable and for the global model. test.res &lt;- cox.zph(cox4) test.res ## chisq df p ## data$age 0.443 1 0.51 ## as.factor(data$ln_yesno) 1.753 1 0.19 ## data$pathsize 1.267 1 0.26 ## GLOBAL 3.211 3 0.36 Graphical diagnostic library(survminer) ## Loading required package: ggplot2 ## Loading required package: ggpubr ggcoxzph(test.res) These plots do not indicate obvious trends and are generally centered at zero. "]
]
